@(uninsuredvehicles: List[Vehicle])
@import helper._
@main("Our Fleet") {
@_menuBars()
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
          @if(flash.get("noUninsuredVehicles")){
         <div class="alert alert-danger" role="alert">
            <div class="container">
               @flash.get("noUninsuredVehicles")
            </div>
            
         </div>
         }
       <h2>UNINSURED VEHICLES</h2>
         <p><b>CHOOSE VEHICLE TO INSURE:</b></p><br><br>
    <div class="row">
        <div class="col-lg-12">
            <table class="table" id="myTable">
                <thead>
                    <tr>
                        <th class="sorting">Vehicle ID  <b class="caret"></b></th>
                        <th class="sorting">Owner  <b class="caret"></b></th>
                        <th class="sorting">Type  <b class="caret"></b></th>
                        <th class="sorting">Fleet  <b class="caret"></b></th>
                        <th>Details</th>
                        <th>Edit</th>
                        <th>Delete</th>
                    </tr>
                </thead>
                <tbody>
                 @for(vehicle <- uninsuredvehicles) {
                    <tr>
                        <td>@vehicle.vid</td>
                        <td>@vehicle.owner.name</td>
                        <td>@vehicle.typev.name</td>
                        @if(vehicle.fleet == null || vehicle.fleet.name == "") {
                       	<td>Not in any fleet</td> 
                       	} else {
                        <td>@vehicle.fleet.name</td>
                        }
                        <td><a class="btn btn-info" data-toggle="modal" data-target="#myModal-@(vehicle.id)">Info</a>	</td>
            <td> <a href="@routes.VehicleController.editVehicleView(vehicle.id)" class="btn btn-default" >@Messages("edit")</a></td>
                 <td> <a href="@routes.VehicleController.deleteVehicle(vehicle.id)" onclick="return confirm('Are you sure you want to delete this vehicle?');" class="btn btn-danger" >Delete</a></td>
                  
                    </tr>
                    
                    <!-- Modal -->
<div id="myModal-@(vehicle.id)" class="modal fade" role="dialog">
  <div class="modal-dialog">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title"> @vehicle.typev  details</h4>
      </div>
      <div class="modal-body">
      <label><h4> Vehicle ID</label>  @vehicle.vid </h4></br>
         <label><h4> Owner</label> Name:  @vehicle.owner.name </br>
         						   Email: @vehicle.owner.email</h4></br>
            <label><h4> Type</label>   @vehicle.typev.name</h4></br>
            @if(vehicle.fleet != null) {
            <label><h4> Fleet</label>   @vehicle.fleet.name </h4></br>
            <label><h4> Description </h4></label></br>
           }
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>
                  }
                </tbody>
            </table>
            <hr>
        </div>
    </div>
    <script type="text/javascript">
    $(document).ready(function(){
        $('#myTable').DataTable();
    });
         </script>
<script type="text/javascript">
$(document).ready(function () {
    $('#myTable').searchable({
        striped: true,
        oddRow: { 'background-color': '#f5f5f5' },
        evenRow: { 'background-color': '#fff' },
        searchType: 'fuzzy'
    });
});
</script>
</body>
    
    </div>

}
