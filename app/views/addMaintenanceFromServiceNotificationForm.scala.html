@(v: Vehicle)(srv: Service)(sn: ServiceNotification)
@import helper._
@main("ADD MAINTENANCE ") {
		
@_menuBars()
<div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
    <div class="main">
        <h1 class="page-header">ADD MAINTENANCE</h1>
        <div class="content">
            <div class="section group">
                <div class="col span_2_of_3">
                    <div style="width:300px" class="contact-form">
                        <form name="maintenanceForm" action="@routes.MaintenanceController.addMaintenanceFromServiceNotification(v.id, srv.id, sn.id)" method="POST" enctype="multipart/form-data">
                        
                          <h4 id="editProfileText">VEHICLE :  @v.vid</h4>
                          <br>
                          <h4 id="editProfileText">SERVICE :  @srv.stype</h4>

                         <!--    @if(Vehicle.listOfVehicles().size()>0){
                            <select class="form-control" id="vehicleName" name="vehicleName" required>
                               
                                  <option value="@v.vid">@v.vid </option>
                                    @for(vehicle <- Vehicle.listOfVehicles()) { 
                                    @if(v.id!=vehicle.id){
                                <option value="@vehicle.vid">@vehicle.vid </option>
                                    }}
                            </select>
                            }else{
                            	<select class="form-control" id="vehicleName" name="vehicleName" required>
                                <option value="" disabled selected>No records</option>
                            }--> 
                            <br><br>
                          <h5 id="editProfileText">Date *</h5>
                                <input class="form-control datepicker-bit min-dob" id="datepicker" name="dateM" type="date" onClick="this.select()" placeholder="Date" required/>
                                </br>
                            <h5 id="editProfileText">Odometer:*</h5>
                             <input  type="number" step="1" min="0" style="width:200px;" id="odometer" name="odometer" class="form-control" required />
                            
                        <!--    <br><hr>
						<h4 id="editProfileText"><b>SERVICE:</b></h4>
                            @for(service <- Service.listOfServices()) { 
                                <br>
                                <div id="addVehicleDiv">
                                @if(srv.id==service.id){
                                <input type="checkbox" name="serviceID" value="@service.id" checked />@service.stype
                                  }else{
                                 <input type="checkbox" name="serviceID" value="@service.id" />@service.stype
                                    }
                                </div>
                                 }
                                </br>
                                <textarea style="display:none" textarea id="t" name="t"></textarea>
                                </br>
                                
                                <hr/>
                                <br>-->
                              
                            <br>
                               
                               <hr> <br>
                                 <textarea style="display:none" textarea id="t2" name="t2"></textarea>
                                <div>
                                    <input class="btn btn-primary btn-odmak btn-fontNovi" style="width:60px" type="submit" value="@Messages(" Add ")" />
                                    <button type="button" class="btn btn-danger" style="width:60px" onclick="window.location.href='/'">Cancel</button>
                                </div>
                                <div style="position:absolute;left:60%; top:15%;">
                                <h4>COST</h4>
                                </div>
                                <div>
                                <table style="position:absolute;left:60%; top:20%; border: 2px solid #87898A; width:30%; height:50%;">
                                 <tbody>
                                 <tr>
                        <td>    <br><br>         
                        <label style="margin-left: 20%;">Labor</label><br>
                          <input  type="number" class="cost" step="any" min="0" style="width:60%; margin-left:20%;" id="labor" name="labor" class="form-control"  />
						</td>
						<br>
                       
                    </tr>
                    <tr>
                        <td>  <br>  
                        <label  style="margin-left: 20%;">Parts</label> <br>          
                        <input  type="number" step="any" class="cost" style="width:60%; margin-left:20%;"  min="0"  id="parts" name="parts" class="form-control"  />
						</td>
                       
                    </tr><br>
                    <tr>
                        <td>     <br>  <label style="margin-left: 20%;">Tax </label>  <br>
                                <input  type="number" class="cost" style="width:60%; margin-left:20%;"  step="any" min="0"  id="tax" name="tax" class="form-control"  />
						</td>
                       
                    </tr><br><hr>
                    <tr>
                        <td>     <br>   <hr> <label style="margin-left: 20%;">TOTAL</label>  
                                <input  type="number" style="width:60%; margin:auto;"  step="1" min="0" style="width:50%;" id="total" name="total" class="form-control" readonly  />
					<br>	<br></td>
                       
                    </tr><br>
                                 </tbody>
                                </table>
                                </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>							
function updateTextArea() {         
     var allVals = [];
     $('#addVehicleDiv :checked').each(function() {
       allVals.push($(this).val());
     });
     $('#t').val(allVals);
  }
 $(function() {
   $('#addVehicleDiv input').click(updateTextArea);
   updateTextArea();
 });	
 </script>	
 <script>							
function updateTextArea2() {         
     var allVals = [];
     $('#addIssueDiv :checked').each(function() {
       allVals.push($(this).val());
     });
     $('#t2').val(allVals);
  }
 $(function() {
   $('#addIssueDiv input').click(updateTextArea2);
   updateTextArea2();
 });	
 </script>	
<script>
$(document).ready(function() {
	$('#buttonZaVozilo').click(function(e) {
			$('#divZaVozilo').show();
	})
});
</script>
<script>
// we used jQuery 'keyup' to trigger the computation as the user type
$('.cost').keyup(function () {
 
    // initialize the sum (total price) to zero
    var sum = 0;
     
    // we use jQuery each() to loop through all the textbox with 'price' class
    // and compute the sum for each loop
    $('.cost').each(function() {
        sum += Number($(this).val());
    });
     
    // set the computed value to 'totalPrice' textbox
    $('#total').val(sum);
     
});
</script>
}